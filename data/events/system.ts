
import { GameEvent } from '../../types';

export const SYSTEM_EVENTS: GameEvent[] = [
  // ===========================
  // 有选项系统/通用事件
  // ===========================
  {
    id: 'daily_training',
    权重: 50,
    可触发次数: -1,
    标签组: ['训练'],
    触发条件: '当前角色.标签组 存在 "在役" && 当前角色.属性.体力 > 15',
    标题: '日常训练',
    正文: '{当前角色.名称}进行了日常的基础体能训练。挥洒汗水是青春的证明！',
    选项组: [
      { 显示文本: '侧重速度训练', 操作指令: '属性变更 速度 15; 属性变更 体力 -15; 关系变更 友情 1' },
      { 显示文本: '侧重力量训练', 操作指令: '属性变更 力量 15; 属性变更 体力 -15; 关系变更 友情 1' },
      { 显示文本: '休息一会', 操作指令: '属性变更 体力 20; 属性变更 精力 10; 属性变更 心情 5; 关系变更 友情 1' }
    ]
  },
  {
    id: 'trainer_strategy',
    权重: 40,
    可触发次数: -1,
    标签组: ['工作'],
    触发条件: '当前角色.标签组 存在 "训练员" && 当前角色.属性.精力 > 10',
    预操作指令: '设置变量 角色 随机角色 = 获取随机队友()',
    标题: '制定计划',
    正文: '作为训练员，你需要为{随机角色.名称}制定接下来的训练方针。',
    选项组: [
      { 显示文本: '研究比赛录像', 操作指令: '属性变更 精力 -10; 属性变更 学识 1' },
      { 显示文本: '指点她的战术', 操作指令: '属性变更 精力 -10; 随机角色.属性变更 智慧 15; 关系变更(友情, 随机角色, 训练员, 5)' },
      { 显示文本: '锻炼她的耐力', 操作指令: '属性变更 精力 -5; 随机角色.属性变更 耐力 10; 关系变更(友情, 随机角色, 训练员, 5)' }
    ]
  },
  
  // --- 热血训练员工作事件 ---
  {
    id: 'trainer_work_hot_blood',
    权重: 45,
    可触发次数: -1,
    标签组: ['工作'],
    触发条件: '当前角色.标签组 存在 "训练员" && 当前角色.标签组 存在 "热血" && 当前角色.属性.体力 > 15',
    预操作指令: '设置变量 角色 随机角色 = 获取随机队友()',
    标题: '热血指导',
    正文: '“{随机文字("噢噢噢噢噢哦哦！","燃起来吧{随机角色.名称}！","训练多流汗，比赛少流血！")}”\n你拉着{随机角色.名称}特训！',
    选项组: [
      { 显示文本: '长跑特训', 操作指令: '属性变更 体力 -15; 随机角色.属性变更 耐力 15; 随机角色.属性变更 体力 -10; 关系变更(友情, 随机角色, 训练员, 5)' },
      { 显示文本: '拖轮胎特训', 操作指令: '属性变更 体力 -15; 随机角色.属性变更 力量 15; 随机角色.属性变更 体力 -10; 关系变更(友情, 随机角色, 训练员, 5)' }
    ]
  },

  // --- 懒洋洋训练员工作事件 ---
  {
    id: 'trainer_work_lazy',
    权重: 45,
    可触发次数: -1,
    标签组: ['工作'],
    触发条件: '当前角色.标签组 存在 "训练员" && 当前角色.标签组 存在 "懒洋洋"',
    预操作指令: '设置变量 角色 随机角色 = 获取随机队友()',
    标题: '悠闲时光',
    正文: '今天的天气真好啊……这种日子与其流汗，不如找个舒服的地方待着。你看到了正准备训练的{随机角色.名称}。',
    选项组: [
      { 显示文本: '来读书吧', 操作指令: '属性变更 精力 -5; 随机角色.属性变更 智慧 15; 关系变更(友情, 随机角色, 训练员, 5)' },
      { 显示文本: '一起晒太阳', 操作指令: '属性变更 体力 10; 属性变更 精力 10; 随机角色.属性变更 体力 10; 随机角色.属性变更 精力 10; 关系变更(友情, 随机角色, 训练员, 5)' }
    ]
  },

  // --- 老成训练员工作事件 ---
  {
    id: 'trainer_work_mature',
    权重: 45,
    可触发次数: -1,
    标签组: ['工作'],
    触发条件: '当前角色.标签组 存在 "训练员" && 当前角色.标签组 存在 "老成"',
    预操作指令: '设置变量 角色 随机角色 = 获取随机队友()',
    标题: '稳重指导',
    正文: '你煮了一壶好茶，将{随机角色.名称}叫到办公室，语重心长地分析起最近的训练数据。“欲速则不达，我们来复盘一下吧。”',
    选项组: [
      { 显示文本: '磨练心性', 操作指令: '属性变更 精力 -15; 随机角色.属性变更 毅力 15; 关系变更(友情, 随机角色, 训练员, 5)' },
      { 显示文本: '分析数据', 操作指令: '属性变更 精力 -15; 随机角色.属性变更 智慧 15; 关系变更(友情, 随机角色, 训练员, 5)' },
      { 显示文本: '喝茶谈心', 操作指令: '属性变更 体力 10; 属性变更 心情 5; 关系变更(友情, 随机角色, 训练员, 5)' }
    ]
  },

  // --- 新增：母性训练员工作事件 ---
  {
    id: 'trainer_work_motherly',
    权重: 45,
    可触发次数: -1,
    标签组: ['工作'],
    触发条件: '当前角色.标签组 存在 "训练员" && 当前角色.标签组 存在 "母性"',
    预操作指令: '设置变量 角色 随机角色 = 获取随机队友()',
    标题: '慈爱关怀',
    正文: '看着努力训练的{随机角色.名称}，你心中涌起一股想要无微不至照顾她的冲动。“哎呀，是不是累了？要不要休息一下？要吃点心吗？”',
    选项组: [
      { 显示文本: '尽情宠溺', 操作指令: '属性变更 心情 20; 随机角色.属性变更 心情 20; 属性变更 爱欲 5' },
      { 显示文本: '指导耐力', 操作指令: '随机角色.属性变更 耐力 10; 关系变更(友情, 随机角色, 训练员, 5)' },
      { 显示文本: '做些好吃的', 操作指令: '随机角色.属性变更 体力 10; 随机角色.属性变更 精力 10; 关系变更(友情, 随机角色, 训练员, 5)' }
    ]
  },

  // --- 富豪训练员事件 (无选项) ---
  {
    id: 'trainer_work_rich',
    权重: 40,
    可触发次数: -1,
    标签组: ['工作'],
    触发条件: '当前角色.标签组 存在 "训练员" && 当前角色.标签组 存在 "富豪"',
    预操作指令: '设置变量 角色 随机角色 = 获取随机队友()',
    标题: '阔绰出手',
    正文: '觉得训练服有些旧了，你带着{随机角色.名称}去了高级商场，不仅给自己置办了一身行头，还顺手送了她一件名牌运动装。\n{随机角色.名称}：“诶？真的可以收下吗？谢谢训练员！”',
    操作指令: '属性变更 魅力 1; 随机角色.属性变更 魅力 1; 关系变更(友情, 随机角色, 训练员, 5)'
  },

  // --- 魅力十足通用事件 (无选项) ---
  {
    id: 'general_charm_gig',
    权重: 30,
    可触发次数: -1,
    标签组: ['日常'],
    触发条件: '当前角色.标签组 存在 "魅力十足"',
    标题: '广告邀约',
    正文: '{当前角色.名称}临时拍摄了一支{随机文字("饮料广告","平面写真","运动广告")}。虽然只是短暂的镜头，但足以让人印象深刻。',
    操作指令: '属性变更 魅力 1; 属性变更 财富 1'
  },

  // --- 通用训练员随机工作事件 (无选项) ---
  {
    id: 'trainer_work_generic_random',
    权重: 30,
    可触发次数: -1,
    标签组: ['工作', '日常'],
    触发条件: '当前角色.标签组 存在 "训练员" && 当前角色.属性.精力 > 10',
    预操作指令: '设置变量 角色 随机角色 = 获取随机队友(); 设置变量 骰子 = 随机(1~100)',
    标题: '日常指导',
    分支组: [
      {
        判别式: '变量.骰子 <= 20',
        操作指令: '属性变更 精力 -10; 随机角色.属性变更 速度 12; 关系变更(友情, 随机角色, 训练员, 5)',
        注释: '随机训练速度'
      },
      {
        判别式: '变量.骰子 > 20 && 变量.骰子 <= 40',
        操作指令: '属性变更 精力 -10; 随机角色.属性变更 耐力 12; 关系变更(友情, 随机角色, 训练员, 5)',
        注释: '随机训练耐力'
      },
      {
        判别式: '变量.骰子 > 40 && 变量.骰子 <= 60',
        操作指令: '属性变更 精力 -10; 随机角色.属性变更 力量 12; 关系变更(友情, 随机角色, 训练员, 5)',
        注释: '随机训练力量'
      },
      {
        判别式: '变量.骰子 > 60 && 变量.骰子 <= 80',
        操作指令: '属性变更 精力 -10; 随机角色.属性变更 毅力 12; 关系变更(友情, 随机角色, 训练员, 5)',
        注释: '随机训练毅力'
      },
      {
        判别式: '变量.骰子 > 80',
        操作指令: '属性变更 精力 -10; 随机角色.属性变更 智慧 12; 关系变更(友情, 随机角色, 训练员, 5)',
        注释: '随机训练智慧'
      }
    ],
    正文: '你对{随机角色.名称}进行了一次针对性的日常指导，两人的配合更加默契了。',
    选项组: [] // 无选项
  },

  {
    id: 'trainer_choice_example',
    权重: 50,
    可触发次数: -1,
    标签组: ['工作'],
    触发条件: '当前角色.标签组 存在 "训练员" && 当前角色.属性.精力 > 15',
    标题: '工作态度',
    正文: '今天的工作堆积如山，作为训练员你打算？',
    选项组: [
      { 显示文本: '认真完成', 操作指令: '属性变更 学识 1; 属性变更 精力 -15' },
      { 显示文本: '摸鱼睡觉', 操作指令: '属性变更 心情 5; 属性变更 体力 10; 属性变更 精力 10' }
    ],
    分支组: [
      {
        判别式: '已选序号 == 2 && 随机(1~100) > 30',
        操作指令: '获得标签 懒惰',
        注释: '摸鱼有概率变懒'
      }
    ]
  },
  // --- 强制休息事件 ---
  {
    id: 'trainer_rest_forced_physical',
    权重: 100,
    可触发次数: -1,
    标签组: ['休息'],
    触发条件: '当前角色.标签组 存在 "训练员" && 当前角色.属性.体力 < 10',
    标题: '体力透支',
    正文: '长时间的高强度工作让你感到身体被掏空。不知不觉间，你趴在办公桌上睡着了。',
    操作指令: '属性变更 体力 20; 属性变更 精力 5'
  },
  {
    id: 'trainer_rest_forced_mental',
    权重: 100,
    可触发次数: -1,
    标签组: ['休息'],
    触发条件: '当前角色.标签组 存在 "训练员" && 当前角色.属性.精力 < 10',
    标题: '精神涣散',
    正文: '盯着屏幕的眼睛开始发酸，思绪也变成了一团浆糊。这种状态下效率极低，不如休息一会。',
    操作指令: '属性变更 精力 20; 属性变更 体力 5'
  },
  // --- 其他系统事件 ---
  {
    id: 'gym_fat_burn',
    权重: 100,
    可触发次数: -1,
    标签组: [],
    触发条件: '当前角色.标签组 存在 "肥胖"',
    标题: '减肥特训',
    正文: '由于最近摄入过多，{当前角色.名称}的各项指标开始出现警报。骏川手纲建议进行强制减肥特训。',
    选项组: [
      { 显示文本: '地狱游泳一小时', 操作指令: '属性变更 耐力 10; 属性变更 毅力 10; 移除标签 肥胖; 属性变更 心情 -15; 属性变更 体力 -30' },
      { 显示文本: '再吃一顿就减肥', 操作指令: '属性变更 体质 1; 属性变更 速度 -5' }
    ]
  },
  {
    id: 'random_fortune',
    权重: 10,
    可触发次数: -1,
    标签组: ['幸运'],
    触发条件: '当前角色.标签组 存在 "恋爱脑" && 当前角色.标签组 存在 "在役"',
    正文: '{当前角色.名称}在路边捡到了1000元！“这难道是…我和{训练员.称呼}的结婚基金？”',
    操作指令: '属性变更 财富 1; 属性变更 心情 3'
  },
  {
    id: 'study_hard',
    权重: 30,
    可触发次数: -1,
    标签组: ['学习'],
    触发条件: '当前角色.属性.智慧 < 300 && 当前角色.标签组 存在 "马娘"',
    正文: '{当前角色.名称}觉得自己最近在比赛中总是判断失误，决定恶补一下战术理论。',
    操作指令: '属性变更 智慧 20; 属性变更 精力 -30; 获得标签 擅长训练'
  },
  {
    id: 'late_night_snack',
    权重: 25,
    可触发次数: -1,
    标签组: [],
    触发条件: '当前角色.属性.体力 < 30',
    标题: '深夜诱惑',
    正文: '冰箱里正好有一块布丁，手上刚好有一壶红茶，怎么会有这么巧的事？',
    选项组: [
      { 显示文本: '吃了它！', 操作指令: '属性变更 心情 5; 属性变更 体力 20' },
      { 显示文本: '制服诱惑！', 操作指令: '属性变更 毅力 5; 属性变更 心情 -5' }
    ],
    分支组: [
      {
        判别式: '已选序号 == 1 && 随机(1~100) > 70',
        操作指令: '获得标签 肥胖',
        注释: '如果选了1且运气不好，就会变胖'
      }
    ]
  },
  {
    id: 'karaoke',
    权重: 20,
    可触发次数: -1,
    标签组: [],
    触发条件: '当前角色.属性.财富 > 5',
    标题: '卡拉OK',
    正文: '被朋友邀请去卡拉OK唱歌。{当前角色.标签组 存在 "歌手" ? "作为一名歌手，{当前角色.名称}还是颇为意动。" : ""}',
    选项组: [
      { 显示文本: '大展歌喉', 操作指令: '属性变更 魅力 1; 属性变更 心情 10; 属性变更 精力 -10' },
      { 显示文本: '婉拒', 操作指令: '属性变更 心情 -2' }
    ],
    分支组: [
      {
        判别式: '已选序号 == 1 && 当前角色.标签组 存在 "歌手"',
        操作指令: '属性变更 魅力 1',
        注释: '歌手魅力额外+1'
      }
    ]
  },
  // ===========================
  // 马娘训练员专属事件 (Trainer + Uma)
  // ===========================
  {
    id: 'uma_trainer_demo',
    权重: 50,
    可触发次数: -1,
    标签组: ['训练', '职业'],
    触发条件: '当前角色.标签组 存在 "训练员" && 当前角色.标签组 存在 "马娘" && 当前角色.属性.体力 > 30',
    预操作指令: '设置变量 角色 随机角色 = 获取随机队友()',
    标题: '亲自示范',
    正文: '“与其解释理论，不如直接跑给你们看！” 身为马娘训练员的你走上跑道。起跑、加速、冲刺——你完美的动作让{随机角色.名称}和学员们看得目瞪口呆。',
    选项组: [
      { 显示文本: '享受崇拜的目光', 操作指令: '属性变更 心情 10; 属性变更 魅力 5; 随机角色.属性变更 智慧 5; 关系变更(友情, 随机角色, 训练员, 5)' },
      { 显示文本: '趁热打铁进行指导', 操作指令: '属性变更 学识 5; 属性变更 体力 -20; 随机角色.属性变更 速度 10' }
    ]
  },
  {
    id: 'uma_trainer_instinct',
    权重: 30,
    可触发次数: -1,
    标签组: ['本能'],
    触发条件: '当前角色.标签组 存在 "训练员" && 当前角色.标签组 存在 "马娘"',
    预操作指令: '设置变量 角色 随机角色 = 获取随机队友()',
    标题: '狩猎本能',
    正文: '看着{随机角色.名称}在夕阳下奔跑的背影，你内心深处属于马娘的本能突然被唤醒了。不是作为指导者，而是作为竞争者…或者捕食者？想要追上去，想要…超越她。',
    选项组: [
      { 显示文本: '压抑本能，保持专业', 操作指令: '属性变更 毅力 10; 属性变更 精力 -10' },
      { 显示文本: '加入陪跑！', 操作指令: '属性变更 速度 15; 属性变更 体力 -20; 属性变更 心情 5; 关系变更(友情, 随机角色, 训练员, 3)' }
    ]
  },
  {
    id: 'uma_trainer_tail',
    权重: 40,
    可触发次数: -1,
    标签组: ['日常'],
    触发条件: '当前角色.标签组 存在 "训练员" && 当前角色.标签组 存在 "马娘"',
    标题: '尾巴的烦恼',
    正文: '一直坐在办公椅上处理文件，尾巴被压得有点不舒服。虽然是训练员，但保养尾巴也是必修课。',
    选项组: [
      { 显示文本: '去更衣室梳理一下', 操作指令: '属性变更 魅力 1; 属性变更 心情 5' },
      { 显示文本: '忍耐一下继续工作', 操作指令: '属性变更 毅力 5; 属性变更 心情 -5; 属性变更 精力 -5' }
    ]
  },
  {
    id: 'uma_trainer_race_invitation',
    权重: 20,
    可触发次数: 1,
    标签组: ['剧情'],
    触发条件: '当前角色.标签组 存在 "训练员" && 当前角色.标签组 存在 "马娘" && 当前角色.属性.速度 > 300',
    标题: '复出的邀请',
    正文: '因为在指导时展现出了惊人的素质，URA的工作人员悄悄联系了你。“那个…训练员小姐，您真的不考虑作为选手复出吗？您的腿脚完全没有生锈呢。”',
    选项组: [
      { 显示文本: '我的梦想是培养她们', 操作指令: '属性变更 毅力 20; 属性变更 学识 10; 属性变更 心情 5' },
      { 显示文本: '稍微有点心动…', 操作指令: '属性变更 速度 20; 属性变更 心情 -5; 获得标签 优柔寡断' }
    ]
  },
  {
    id: 'trainer_sm_chair',
    权重: 20,
    可触发次数: 1,
    标签组: ['日常'],
    触发条件: '当前角色.标签组 存在 "训练员" && (当前角色.标签组 存在 "施虐狂" || 当前角色.标签组 存在 "受虐狂")',
    正文: '桐生院葵：“最近买了防跷二郎腿凳子，但没什么效果。”\n{当前角色.名称}：“还有这种凳子？？？”\n进一步了解发现既没有拘束也没有电击之后兴致索然了。',
    操作指令: ''
  }
];
