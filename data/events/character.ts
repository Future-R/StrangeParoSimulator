
import { GameEvent } from '../../types';

export const CHARACTER_EVENTS: GameEvent[] = [
  // --- 特定事件 ---
  {
    id: 'ojou_allowance',
    权重: 100,
    可触发次数: 5,
    标签组: [''],
    触发条件: '当前角色.标签组 存在 "大小姐" && 当前角色.属性.财富 < 10',
    标题: '家族支援',
    正文: '听说{当前角色.名称}手头有点紧，家里寄来了一笔零花钱。”',
    操作指令: '属性变更 财富 3'
  },
  {
    id: 'nature_sigh',
    权重: 33,
    可触发次数: 1,
    标签组: ['个人剧情'],
    触发条件: '当前角色.标签组 存在 "配角"',
    标题: '配角的叹息',
    正文: '{当前角色.名称}看着杂志上的封面明星，轻轻叹了口气。“反正我也只是衬托鲜花的绿叶罢了…像我这样普通的女孩，{训练员.称呼}是不是早就厌倦了？”',
    选项组: [
      { 显示文本: '你就是我的主角', 操作指令: '属性变更 心情 10; 属性变更 毅力 5; 属性变更 爱欲 5; 关系变更 爱情 5' },
      { 显示文本: '默默摸头', 操作指令: '属性变更 心情 10; 关系变更 友情 5' }
    ]
  },
  {
    id: 'restaurant_closed',
    权重: 50,
    可触发次数: 1, // 唯一事件
    标签组: ['心情下降'],
    触发条件: '当前角色.标签组 存在 "大胃王"',
    标题: '餐馆谢客',
    正文: '附近所有自助餐厅纷纷宣布停止接待{当前角色.名称}！',
    操作指令: '属性变更 心情 -10'
  },
  {
    id: 'restaurant_closed_fallback',
    权重: 10,
    可触发次数: 1, // 唯一事件
    标签组: ['心情下降'],
    触发条件: '当前角色.标签组 不存在 "大胃王"',
    标题: '餐馆谢客',
    正文: '附近所有自助餐厅纷纷宣布停止接待{当前角色.名称}！\n{当前角色.名称}感到莫名其妙，去问时才知道是某芦毛马娘吃饭时报上了自己的名字。',
    操作指令: '属性变更 心情 -10'
  },
  
  // --- 角色专属 ---
  {
    id: 'nature_shopping',
    权重: 60,
    可触发次数: -1,
    标签组: ['个人剧情'],
    // 依赖关系值
    触发条件: '当前角色.模板ID == "优秀素质" && (当前角色.关系.玩家.爱情 > 20 || 当前角色.属性.心情 > 80)',
    标题: '商店街购物',
    正文: '难得心情不错，{当前角色.名称}邀请训练员去商店街逛逛。',
    选项组: [
      { 显示文本: '牵起她的手', 操作指令: '属性变更 爱欲 5; 属性变更 心情 5; 关系变更 爱情 5' },
      { 显示文本: '只是逛街而已', 操作指令: '属性变更 毅力 2; 属性变更 心情 -5' }
    ]
  },
  {
    id: 'teio_step',
    权重: 60,
    可触发次数: -1,
    标签组: ['个人剧情'],
    触发条件: '当前角色.模板ID == "东海帝王"',
    标题: '帝王舞步',
    正文: '{当前角色.名称}哼着歌，迈着独特的轻盈步伐走在走廊上。“这就是帝王的舞步~ {训练员.称呼}，看着我，只看着我一个人！”',
    选项组: [
      { 显示文本: '夸奖她', 操作指令: '属性变更 速度 5; 属性变更 心情 5; 属性变更 爱欲 2; 关系变更 爱情 2' },
      { 显示文本: '提醒她注意脚下', 操作指令: '属性变更 智慧 3' }
    ]
  },
    {
    id: 'teio_hachimi',
    权重: 60,
    可触发次数: 1,
    标签组: ['个人剧情'],
    触发条件: '当前角色.模板ID == "东海帝王"',
    标题: '哈基米',
    正文: '不知为何，网络上忽然开始风靡{当前角色.名称}随口哼的蜂蜜水之歌。',
        选项组: [
      { 显示文本: '向盗摄者发送律师函', 操作指令: '关系变更 友情 5' },
      { 显示文本: '趁机打造饮料品牌', 操作指令: '训练员.属性变更 财富 5' }
    ]
  },
  {
    id: 'mayano_flight',
    权重: 60,
    可触发次数: -1,
    标签组: ['个人剧情'],
    触发条件: '当前角色.模板ID == "摩耶重炮"',
    标题: 'I Copy!',
    正文: '{当前角色.名称}正在模仿飞机飞行。“You copy? I copy! 起飞！目标是{训练员.称呼}的怀抱！”',
    选项组: [
      { 显示文本: '接住她', 操作指令: '属性变更 爱欲 5; 属性变更 速度 2; 关系变更 爱情 3' },
      { 显示文本: '懒得陪小孩玩', 操作指令: '属性变更 心情 -10; 关系变更 爱情 -3; 关系变更 友情 -10' }
    ]
  },
  {
    id: 'nature_joke',
    权重: 50,
    可触发次数: 3,
    标签组: [],
    触发条件: '当前角色.标签组 存在 "配角"',
    标题: '冷笑话',
    正文: '东海帝王苦着脸向{当前角色.名称}分享会长冷笑话。\n结果{当前角色.名称}被逗得乐不可支。',
    选项组: [],
    操作指令: '属性变更 心情 33'
  },
  {
    id: 'suzuka_night_talk',
    权重: 40,
    可触发次数: -1,
    标签组: ['个人剧情'],
    触发条件: '当前角色.模板ID == "无声铃鹿" && 当前角色.关系.玩家.友情 > 20',
    标题: '',
    正文: '“睡前能听我讲几句话吗？\n　{随机文字("虽然我喜欢截肢斩首，\n　但不能理解开膛破肚哪里爽了。","说二次元吃乱伦关系现实就会乱伦的怎么还没被玩FPS的人爆头啊？","人类总是用动物交配来形容自己疯狂肏逼，\n　实际上动物根本没有人类这么淫荡。","恋童癖沉湎过去，恋尸癖展望未来。","我喜欢看群像。\n　因为群像是群交的关系基础，没有关系基础只是滥交。")}\n　好了，话说到这里，你可以睡了。\n　晚安。”',
    操作指令: '关系变更(友情, 当前角色, 训练员, 4)'
  },
  
  // ===========================
  // 新增事件 (Trainer/Uma Decline)
  // ===========================
  {
    id: 'trainer_uma_past_peak',
    权重: 10,
    可触发次数: -1,
    标签组: ['负面'],
    触发条件: '当前角色.标签组 存在 "训练员" && 当前角色.标签组 存在 "马娘"',
    标题: '巅峰已过',
    正文: '你愈发感到自己已过了巅峰期，身体机能不如以往。',
    操作指令: '属性变更 速度 随机(-10~-1); 属性变更 耐力 随机(-10~-1); 属性变更 力量 随机(-10~-1); 属性变更 毅力 随机(-10~-1); 属性变更 智慧 随机(-10~-1)'
  },

  // ===========================
  // 新增事件 (Nice Nature 互动)
  // ===========================
  {
    id: 'nature_underwear_trick',
    权重: 15,
    可触发次数: 1,
    标签组: ['个人剧情'],
    触发条件: '当前角色.模板ID == "优秀素质"',
    正文: '“素质你又骗我，说什么决胜内衣是比赛时穿的内衣！”\n“女人每次被骗都会成长，重炮离成熟女人又进了一步！”\n“哎？我变成熟了吗？哎嘿嘿~”\n（呜哇~超好骗~）',
    操作指令: '属性变更 心情 33'
  },
  {
    id: 'nature_food_trick',
    权重: 15,
    可触发次数: 1,
    标签组: ['个人剧情'],
    触发条件: '当前角色.模板ID == "优秀素质"',
    正文: '“真是的，素质你又骗我！说什么可颂和咖喱是最佳搭配！”\n“抱歉抱歉，重炮气鼓鼓地样子实在太可爱，忍不住就……”\n“哎？我很可爱吗？哎嘿嘿~”\n（呜哇~超可爱~）',
    操作指令: '属性变更 心情 33'
  },
  {
    id: 'nature_squid_support',
    权重: 30,
    可触发次数: 3,
    标签组: ['个人剧情'],
    触发条件: '当前角色.模板ID == "优秀素质" && 训练员.属性.精力 < 30',
    正文: '{当前角色.名称}送来了连续三年斩获铜牌的好吃鱿鱼丝慰问。',
    操作指令: '关系变更(友情, 当前角色, 训练员, 3); 关系变更(爱情, 当前角色, 训练员, 3); 训练员.属性变更 精力 10'
  },
  {
    id: 'nature_taboo_word',
    权重: 15,
    可触发次数: 1,
    标签组: ['个人剧情'],
    触发条件: '当前角色.模板ID == "优秀素质"',
    标题: '禁忌词汇',
    正文: '{当前角色.名称}在开导北部玄驹时不小心说出了禁忌词汇：“那个……”\n因此正在接受立案调查。',
    操作指令: '属性变更 心情 -33'
  },
  // ===========================
  // 新增事件 (北部玄驹 - 仅保留单次触发版)
  // ===========================
  {
    id: 'kitasan_rain_promise',
    权重: 30,
    可触发次数: 1,
    标签组: ['个人剧情'],
    触发条件: '当前角色.模板ID == "北部玄驹"',
    标题: '雨后的约定',
    正文: '大雨如注，{当前角色.名称}望着窗外发呆，“{训练员.称呼}！”她突然转身，眼睛亮晶晶的，“等雨停了，我一定会跑出比晴天更快的成绩！”',
    选项组: [
      { 显示文本: '小北的脚步是能踏碎积水的', 操作指令: '属性变更 心情 10; 属性变更 毅力 10; 关系变更(友情, 当前角色, 训练员, 10)' },
      { 显示文本: '不要勉强，我会帮你的', 操作指令: '属性变更 爱欲 5; 关系变更(爱情, 当前角色, 训练员, 5)' }
    ]
  }
];
